---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "algolia_rule Resource - terraform-provider-algolia"
subcategory: ""
description: |-
  A configuration for a Rule.  To get more information about rules, see the Official Documentation https://www.algolia.com/doc/guides/managing-results/rules/rules-overview/.
---

# algolia_rule (Resource)

A configuration for a Rule.  To get more information about rules, see the [Official Documentation](https://www.algolia.com/doc/guides/managing-results/rules/rules-overview/).

## Example Usage

```terraform
resource "algolia_rule" "example" {
  index_name = "example_index"
  object_id  = "example"

  conditions {
    pattern   = "{facet:category}"
    anchoring = "contains"
  }

  consequence {
    params = jsondecode({
      automaticFacetFilters = {
        facet       = "category"
        disjunctive = true
      }
    })
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `consequence` (Block List, Min: 1, Max: 1) Consequence of the Rule. 
At least one of the following object must be used:
- params
- promote
- hide
- user_data (see [below for nested schema](#nestedblock--consequence))
- `index_name` (String) Name of the index to apply rule.
- `object_id` (String) Unique identifier for the Rule (format: `[A-Za-z0-9_-]+`).

### Optional

- `conditions` (Block List) A list of conditions that should apply to activate a Rule. You can use up to 25 conditions per Rule. (see [below for nested schema](#nestedblock--conditions))
- `description` (String) This field is intended for Rule management purposes, in particular to ease searching for Rules and presenting them to human readers. It is not interpreted by the API.
- `enabled` (Boolean) Whether the Rule is enabled. Disabled Rules remain in the index, but are not applied at query time.
- `validity` (Block List) Objects to promote as hits. (see [below for nested schema](#nestedblock--validity))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--consequence"></a>
### Nested Schema for `consequence`

Optional:

- `hide` (Set of String) List of object IDs to hide from hits.
- `params` (String) Additional search parameters in JSON format. Any valid search parameter is allowed. Specific treatment is applied to these fields: `query`, `automaticFacetFilters`, `automaticOptionalFacetFilters`.
- `promote` (Block List) Objects to promote as hits. (see [below for nested schema](#nestedblock--consequence--promote))
- `user_data` (String) Custom JSON formatted string that will be appended to the userData array in the response. This object is not interpreted by the API. It is limited to 1kB of minified JSON.

<a id="nestedblock--consequence--promote"></a>
### Nested Schema for `consequence.promote`

Required:

- `object_ids` (Set of String)
- `position` (Number) The position to promote the object(s) to (zero-based). If you pass `object_ids`, we place the objects at this position as a group. For example, if you pass four `object_ids` to position `0`, the objects take the first four positions.



<a id="nestedblock--conditions"></a>
### Nested Schema for `conditions`

Optional:

- `alternatives` (Boolean) Whether the `pattern` matches on plurals, synonyms, and typos.

This parameter goes hand in hand with the `pattern`  parameter. If the `pattern` is “shoe” and `alternatives` is `true`, the `pattern` matches on “shoes”, as well as synonyms and typos of “shoe”.
- `anchoring` (String) Whether the pattern parameter must match the beginning or the end of the query string, or both, or none.
Possible values are `is`, `startsWith`, `endsWith` and `contains`.
This parameter goes hand in hand with the `pattern` parameter. If you’re creating a Rule that depends on a specific query, you must specify the `pattern` and `anchoring`.

Otherwise, you can omit both.
- `context` (String) Rule context (format: `[A-Za-z0-9_-]+`). When specified, the Rule is only applied when the same context is specified at query time (using the `ruleContexts` parameter). When absent, the Rule is generic and always applies (provided that its other conditions are met, of course).
- `pattern` (String) Query pattern syntax.
Query patterns are expressed as a string with a specific syntax. A pattern is a sequence of tokens, which can be either:

- Facet value placeholder: `{facet:$facet_name}`. Example: `{facet:brand}`.
- Literal: the world itself. Example: Algolia.
Special characters (`*`, `{`, `}`, `:` and `\`) must be escaped by preceding them with a backslash (\) if they are to be treated as literals.

This parameter goes hand in hand with the `anchoring` parameter. If you’re creating a Rule that depends on a specific query, you must specify the pattern and anchoring. The empty `""` pattern is only allowed when `anchoring` is set to `is`.

Otherwise, you can omit both.


<a id="nestedblock--validity"></a>
### Nested Schema for `validity`

Required:

- `from` (String) Lower bound of the time range. RFC3339 format.
- `until` (String) Upper bound of the time range. RFC3339 format.

## Import

Import is supported using the following syntax:

```shell
terraform import algolia_index.default {{index_name}}/{{object_id}}
```
